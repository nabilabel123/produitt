<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Card</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .color-circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: inline-block;
      margin: 5px;
      cursor: pointer;
      border: 2px solid transparent;
      
    }
    .card {
      max-width: 700px;
      margin-bottom: 20px;
    }
    .card-title,
    .card-text,
    .fs-4,
    .fs-5 {
      font-size: 0.9rem; 
    }

    button {
      font-size: 0.8rem;
    }

    .color-circle.active {
      border-color: #000;
    }

    .size-circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin: 5px;
      border: 1px solid #000;
      cursor: pointer;
      
    }
.selected-color-circle {
  width: 90px;
  height: 200px; 
  border-radius: 50%;
  border: 4px solid #ccc;
  background-color: #ccc; 
  margin-top: 80px;
  margin-right: 600px;
  transition: background-color 0.3s ease;
}


    .size-circle.active {
      background-color: #f8f9fa;
      font-weight: bold;
      
    }

.d-flex {
  display: flex;
  align-items: flex-start; 
  gap: 20px; 
  
}

#selected-color-1 {
  width: 80px; 
  height: 200px; 
  border-radius: 50%; 
  border: 4px solid #000; 
  background-color: #ccc; 
  margin-top: 20px;
  transition: background-color 0.3s ease; 
}

#selected-color-1.active {
  border-color: #000; 
  background-color: #f00; 
}



.card {
  flex-grow: 1;
}
#div-col {
  border: 2px solid #fff ;
  justify-content: center; 
  align-items: center; 

  max-width:80px;
  height: 400px;
  
}



  </style>
</head>
<body>

<div class="container mt-4" >
    
    <div class="d-flex">
        <div id="div-col">
            <div id="selected-color-display-1" class="selected-color-circle"></div>
        </div>
        <div id="product-card-1" class="card p-4 me-5">
            <h3 class="fs-2" id="product-title-1">T-shirt en coton</h3>
            <p class="fs-4" id="product-description-1">T-shirt confortable en coton bio.</p>
            <p class="fs-5" id="product-price-1">19.99 $</p>
            <p class="fs-5" id="product-quantity-1">quantiteEnStock: 5</p>
            <div id="product-colors-1" class="mt-3"></div>
            <div id="product-sizes-1" class="mt-3"></div>
            <button class="btn btn-primary mt-5">Add</button>
        </div>
        
    </div>
    <div class="d-flex">
        <div id="div-col">
            <div id="selected-color-display-2" class="selected-color-circle"></div>
        </div>
        <div id="product-card-2" class="card p-4" >
            <h3 class="fs-2" id="product-title-2">Jean slim</h3>
            <p class="fs-4" id="product-description-2">Jean slim fit avec un look moderne</p>
            <p class="fs-5" id="product-price-2">39.99 $</p>
            <p class="fs-5" id="product-quantity-2">quantiteEnStock: 90</p>
            <div id="product-colors-2" class="mt-3"></div>
            <div id="product-sizes-2" class="mt-3"></div>
            <button class="btn btn-primary mt-5">Add</button>
        </div>
        
    </div>
    <div class="d-flex">
        <div id="div-col">
            <div id="selected-color-display-3" class="selected-color-circle"></div>
        </div>
        <div id="product-card-3" class="card p-4">
            <h5 class="fs-2" id="product-title-3">Robe d'été</h5>
            <p class="fs-4" id="product-description-3">Robe légère et élégante pour les journées ensoleillées.</p>
            <p class="fs-5" id="product-price-3">29.99 $</p>
            <p class="fs-5" id="product-quantity-3">quantiteEnStock: 10</p>
            <div id="product-colors-3" class="mt-3"></div>
            <div id="product-sizes-3" class="mt-3"></div>
            <button class="btn btn-primary mt-3">Add</button>
        </div>
        
    </div>
    


</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const product1 = {
      nom: "T-shirt en coton",
      description: "T-shirt confortable en coton bio.",
      variations: [
        { taille: "S", couleur: { nom: "Rouge", code: "#F00" }, quantiteEnStock: 10, prix: 19.99 },
        { taille: "M", couleur: { nom: "Jaune", code: "#FF0" }, quantiteEnStock: 5, prix: 19.99 },
        { taille: "XL", couleur: { nom: "Vert", code: "#0F0" }, quantiteEnStock: 8, prix: 21.99 },
        { taille: "XL", couleur: { nom: "Rouge", code: "#F00" }, quantiteEnStock: 12, prix: 22.99 },
      ],
    };
  
    const product2 = {
      nom: "Jean slim",
      description: "Jean slim fit avec un look moderne.",
      variations: [
        { taille: "M", couleur: { nom: "Noir", code: "#000" }, quantiteEnStock: 90, prix: 39.99 },
        { taille: "L", couleur: { nom: "Bleu", code: "#00F" }, quantiteEnStock: 4, prix: 42.99 },
        { taille: "XL", couleur: { nom: "Gris", code: "#777" }, quantiteEnStock: 9, prix: 44.99 }
      ]
    };
  
    const product3 = {
      nom: "Robe d'été",
      description: "Robe légère et élégante pour les journées ensoleillées.",
      variations: [
        { taille: "S", couleur: { nom: "Blanc", code: "#EEE" }, quantiteEnStock: 15, prix: 29.99 },
        { taille: "M", couleur: { nom: "Rose", code: "#F99" }, quantiteEnStock: 10, prix: 32.99 },
        { taille: "L", couleur: { nom: "Rouge", code: "#F00" }, quantiteEnStock: 5, prix: 35.99 }
      ]
    };
  
    function renderProductOptions(product, productId) {
  let selectedColor = null;
  let selectedSize = null;

  const colorsContainer = document.getElementById(`product-colors-${productId}`);
  const sizesContainer = document.getElementById(`product-sizes-${productId}`);
  const priceElement = document.getElementById(`product-price-${productId}`);
  const quantityElement = document.getElementById(`product-quantity-${productId}`);
  const selectedColorDisplay = document.getElementById(`selected-color-display-${productId}`);

  const uniqueColors = [...new Set(product.variations.map(v => v.couleur.code))];
  uniqueColors.forEach(colorCode => {
    const colorDiv = document.createElement("div");
    colorDiv.classList.add("color-circle");
    colorDiv.style.backgroundColor = colorCode;
    colorDiv.dataset.color = colorCode;

    colorDiv.addEventListener("click", () => {
      selectedColor = colorCode;
      document.querySelectorAll(`#product-colors-${productId} .color-circle`).forEach(div => div.classList.remove("active"));
      colorDiv.classList.add("active");

      // Mettre à jour la grande div circulaire avec la couleur sélectionnée
      if (selectedColorDisplay) {
        selectedColorDisplay.style.backgroundColor = selectedColor;
      }

      updateDetails();
    });

    colorsContainer.appendChild(colorDiv);
  });

  const uniqueSizes = [...new Set(product.variations.map(v => v.taille))];
  uniqueSizes.forEach(size => {
    const sizeDiv = document.createElement("div");
    sizeDiv.classList.add("size-circle");
    sizeDiv.innerText = size;
    sizeDiv.dataset.size = size;

    sizeDiv.addEventListener("click", () => {
      selectedSize = size;
      document.querySelectorAll(`#product-sizes-${productId} .size-circle`).forEach(div => div.classList.remove("active"));
      sizeDiv.classList.add("active");
      updateDetails();
    });

    sizesContainer.appendChild(sizeDiv);
  });

  function updateDetails() {
    if (selectedColor && selectedSize) {
      const selectedVariation = product.variations.find(
        v => v.couleur.code === selectedColor && v.taille === selectedSize
      );

      if (selectedVariation) {
        priceElement.innerText = `Prix: ${selectedVariation.prix} $`;
        quantityElement.innerText = `Quantité: ${selectedVariation.quantiteEnStock}`;
      } else {
        priceElement.innerText = "Indisponible";
        quantityElement.innerText = "Quantité: 0";
      }
    }
  }
}

renderProductOptions(product1, 1);
  renderProductOptions(product2, 2);
  renderProductOptions(product3, 3);
  </script>
</body>
</html>
